
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">



<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-19801227-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <title>Supporting Functions &mdash; RuleBender</title>
    <link rel="stylesheet" href="../../../../_static/css/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/css/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/css/bootswatch-united.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/css/prodydocs.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../../../_static/js/jquery-2.0.0.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/zeroclipboard.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/copybutton.js"></script>
    <script type="text/javascript" src="../../../../_static/js/prodydocs.js"></script>
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>

  </head>
  <body data-spy="scroll" data-target="#localtoc" data-offset="190">

<div class="container">
  <div class="row">
    <div class="span12">
      <a href="../../../../index.html">
        <img src="../../../../_static/logo.png" alt="ProDy logo" id="logo" />
      </a>
    </div>
    <div class="span12">
      <div class="subnav">
        <ul class="nav nav-pills">
        <li class="pull-right">
          <a href="../../../../genindex.html" title="General Index"
             accesskey="I">index</a>
          </li>
        <li class="pull-right">
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a>
          </li>
        <li><a href="../../../../index.html">Home  &raquo;</a></li> 
        </ul>
      </div>
    </div>
  </div>

  <div class="content">
  <div class="row">
    <div class="span3">
      <div id="sidebar" style="width: 220px">
        <div class="accordion" id="accordion2">
  <div id="searchbox" class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseToolbox">
        <strong>Toolbox</strong>
      </a>
    </div>
<!--     <div id="collapseToolbox" class="accordion-body collapse in">
      <div class="accordion-inner">
        <div id="showcodebuttons" style="margin-bottom: 10px">
          <p><small>Show code snippets for copying:</small></p>
          <div class="btn-group">
            <a href="#codemodal" role="button" data-toggle="modal" id="showcode" class="btn btn-primary btn-small">
              <i class="icon-fullscreen icon-white"></i> Show code</a>
            <a href="#codemodal" role="button" data-toggle="modal" id="withcomments" class="btn btn-primary btn-small">
              and output <i class="icon-comment icon-white"></i> </a>
          </div>
        </div> -->

        <p><small>Search terms or function by name:</small></p>
        <form class="form-search pull-right" action="../../../../search.html" method="get">
          <div class="input-append">
            <input type="text" class="input-small search-query" name="q" class="span2">
            <button type="submit" class="btn btn-primary">Go</button>
          </div>
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
      </div>
    </div>
  </div>  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseReleaseNotes">
        <strong>Release Notes</strong>
      </a>
    </div>
    <div id="collapseReleaseNotes" class="accordion-body collapse in">
      <div class="accordion-inner">
        <p><small><strong>v1</strong> series come with new and improved sequence, structure, and dynamics analysis
features. See <a href="../../../../manual/release/index.html">release notes</a> for details.
        </small></p>
      </div>
    </div>
  </div>  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseHowToCite">
        <strong>How to Cite</strong>
      </a>
    </div>
    <div id="collapseHowToCite" class="accordion-body collapse in">
      <div class="accordion-inner">
        <p><small>
          Bakan A, Meireles LM, Bahar I
          <a class="reference external" href="http://bioinformatics.oxfordjournals.org/content/27/11/1575" target="_blank">
          <i>ProDy</i>: Protein Dynamics Inferred from Theory and Experiments</a> <br/>
          <em>Bioinformatics</em> <strong>2011</strong> 27(11):1575-1577.
        </small></p>
      </div>
    </div>
  </div>
        </div>
      </div>
    </div>
    <div class="span9 body">
    
  <div class="section" id="module-prody.ensemble.functions">
<span id="supporting-functions"></span><h1>Supporting Functions<a class="headerlink" href="#module-prody.ensemble.functions" title="Permalink to this headline">¶</a></h1>
<p>This module defines a functions for handling conformational ensembles.</p>
<dl class="function">
<dt id="prody.ensemble.functions.saveEnsemble">
<code class="descname">saveEnsemble</code><span class="sig-paren">(</span><em>ensemble</em>, <em>filename=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/prody/ensemble/functions.html#saveEnsemble"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#prody.ensemble.functions.saveEnsemble" title="Permalink to this definition">¶</a></dt>
<dd><p>Save <em>ensemble</em> model data as <code class="file docutils literal"><span class="pre">filename.ens.npz</span></code>.  If <em>filename</em>
is <code class="docutils literal"><span class="pre">None</span></code>, title of the <em>ensemble</em> will be used as the filename, after
white spaces in the title are replaced with underscores.  Extension is
<code class="file docutils literal"><span class="pre">.ens.npz</span></code>. Upon successful completion of saving, filename is
returned. This function makes use of <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.savez.html#numpy.savez" title="(in NumPy v1.13)"><code class="xref py py-func docutils literal"><span class="pre">numpy.savez()</span></code></a> function.</p>
</dd></dl>

<dl class="function">
<dt id="prody.ensemble.functions.loadEnsemble">
<code class="descname">loadEnsemble</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/prody/ensemble/functions.html#loadEnsemble"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#prody.ensemble.functions.loadEnsemble" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns ensemble instance loaded from <em>filename</em>.  This function makes
use of <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.load.html#numpy.load" title="(in NumPy v1.13)"><code class="xref py py-func docutils literal"><span class="pre">numpy.load()</span></code></a> function.  See also <a class="reference internal" href="../../../../manual/reference/ensemble/functions.html#prody.ensemble.functions.saveEnsemble" title="prody.ensemble.functions.saveEnsemble"><code class="xref py py-func docutils literal"><span class="pre">saveEnsemble()</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="prody.ensemble.functions.trimPDBEnsemble">
<code class="descname">trimPDBEnsemble</code><span class="sig-paren">(</span><em>pdb_ensemble</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/prody/ensemble/functions.html#trimPDBEnsemble"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#prody.ensemble.functions.trimPDBEnsemble" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new PDB ensemble obtained by trimming given <em>pdb_ensemble</em>.
This function helps selecting atoms in a pdb ensemble based on one of the
following criteria, and returns them in a new <a class="reference internal" href="../../../../manual/reference/ensemble/pdbensemble.html#prody.ensemble.pdbensemble.PDBEnsemble" title="prody.ensemble.pdbensemble.PDBEnsemble"><code class="xref py py-class docutils literal"><span class="pre">PDBEnsemble</span></code></a>
instance.</p>
<p><strong>Occupancy</strong></p>
<p>Resulting PDB ensemble will contain atoms whose occupancies are greater
or equal to <em>occupancy</em> keyword argument.  Occupancies for atoms will be
calculated using <code class="docutils literal"><span class="pre">calcOccupancies(pdb_ensemble,</span> <span class="pre">normed=True)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>occupancy</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; occupancy for selecting atoms, must satisfy
<code class="docutils literal"><span class="pre">0</span> <span class="pre">&lt;</span> <span class="pre">occupancy</span> <span class="pre">&lt;=</span> <span class="pre">1</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="prody.ensemble.functions.calcOccupancies">
<code class="descname">calcOccupancies</code><span class="sig-paren">(</span><em>pdb_ensemble</em>, <em>normed=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/prody/ensemble/functions.html#calcOccupancies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#prody.ensemble.functions.calcOccupancies" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns occupancy calculated from weights of a <a class="reference internal" href="../../../../manual/reference/ensemble/pdbensemble.html#prody.ensemble.pdbensemble.PDBEnsemble" title="prody.ensemble.pdbensemble.PDBEnsemble"><code class="xref py py-class docutils literal"><span class="pre">PDBEnsemble</span></code></a>.
Any non-zero weight will be considered equal to one.  Occupancies are
calculated by binary weights for each atom over the conformations in
the ensemble. When <em>normed</em> is <code class="docutils literal"><span class="pre">True</span></code>, total weights will be divided
by the number of atoms.  This function can be used to see how many times
a residue is resolved when analyzing an ensemble of X-ray structures.</p>
</dd></dl>

<dl class="function">
<dt id="prody.ensemble.functions.showOccupancies">
<code class="descname">showOccupancies</code><span class="sig-paren">(</span><em>pdbensemble</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/prody/ensemble/functions.html#showOccupancies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#prody.ensemble.functions.showOccupancies" title="Permalink to this definition">¶</a></dt>
<dd><p>Show occupancies for the PDB ensemble using <code class="xref py py-func docutils literal">
<span class="pre">plot()</span></code>.  Occupancies are calculated using <a class="reference internal" href="../../../../manual/reference/ensemble/functions.html#prody.ensemble.functions.calcOccupancies" title="prody.ensemble.functions.calcOccupancies"><code class="xref py py-meth docutils literal"><span class="pre">calcOccupancies()</span></code></a>.</p>
</dd></dl>

<dl class="function">
<dt id="prody.ensemble.functions.alignPDBEnsemble">
<code class="descname">alignPDBEnsemble</code><span class="sig-paren">(</span><em>ensemble</em>, <em>suffix='_aligned'</em>, <em>outdir='.'</em>, <em>gzip=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/prody/ensemble/functions.html#alignPDBEnsemble"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#prody.ensemble.functions.alignPDBEnsemble" title="Permalink to this definition">¶</a></dt>
<dd><p>Align PDB files using transformations from <em>ensemble</em>, which may be
a <a class="reference internal" href="../../../../manual/reference/ensemble/pdbensemble.html#prody.ensemble.pdbensemble.PDBEnsemble" title="prody.ensemble.pdbensemble.PDBEnsemble"><code class="xref py py-class docutils literal"><span class="pre">PDBEnsemble</span></code></a> or a <a class="reference internal" href="../../../../manual/reference/ensemble/conformation.html#prody.ensemble.conformation.PDBConformation" title="prody.ensemble.conformation.PDBConformation"><code class="xref py py-class docutils literal"><span class="pre">PDBConformation</span></code></a> instance. Label of
the conformation (see <a class="reference internal" href="../../../../manual/reference/ensemble/conformation.html#prody.ensemble.conformation.PDBConformation.getLabel" title="prody.ensemble.conformation.PDBConformation.getLabel"><code class="xref py py-meth docutils literal"><span class="pre">getLabel()</span></code></a>) will be used to
determine the PDB structure and model number.  First four characters of
the label is expected to be the PDB identifier and ending numbers to be the
model number.  For example, the <a class="reference internal" href="../../../../manual/reference/measure/transform.html#prody.measure.transform.Transformation" title="prody.measure.transform.Transformation"><code class="xref py py-class docutils literal"><span class="pre">Transformation</span></code></a> from conformation
with label <em>2k39_ca_selection_&#8217;resnum_&lt;_71&#8217;_m116</em> will be applied to 116th
model of structure <strong>2k39</strong>.  After applicable transformations are made,
structure will be written into <em>outputdir</em> as <code class="file docutils literal"><span class="pre">2k39_aligned.pdb</span></code>.
If <em>gzip</em> is <strong>True</strong>, output files will be compressed.  Return value is
the output filename or list of filenames, in the order files are processed.
Note that if multiple models from a file are aligned, that filename will
appear in the list multiple times.</p>
</dd></dl>

<dl class="function">
<dt id="prody.ensemble.functions.calcTree">
<code class="descname">calcTree</code><span class="sig-paren">(</span><em>ensemble</em>, <em>distance_matrix</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/prody/ensemble/functions.html#calcTree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#prody.ensemble.functions.calcTree" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a distance matrix for an ensemble, it creates an returns a tree structure.
:arg ensemble: an ensemble with labels. 
:type ensemble: prody.ensemble.Ensemble or prody.ensemble.PDBEnsemble
:arg distance_matrix: a square matrix with length of ensemble. If numbers does not mismatch
it will raise an error. 
:type distance_matrix: numpy.ndarray</p>
</dd></dl>

<dl class="function">
<dt id="prody.ensemble.functions.showTree">
<code class="descname">showTree</code><span class="sig-paren">(</span><em>tree</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/prody/ensemble/functions.html#showTree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#prody.ensemble.functions.showTree" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a tree, creates visualization in different formats. 
arg tree: Tree needs to be unrooted and should be generated by tree generator from Phylo in biopython. 
type tree: Bio.Phylo.BaseTree.Tree
arg format: Depending on the format, you will see different forms of trees. Acceptable formats are <cite>plt</cite>
and <cite>ascii</cite>.
type format: str
arg font_size: Font size for branch labels
type: float
arg line_width: The line width for each branch
type: float</p>
</dd></dl>

<dl class="function">
<dt id="prody.ensemble.functions.buildPDBEnsemble">
<code class="descname">buildPDBEnsemble</code><span class="sig-paren">(</span><em>refpdb</em>, <em>PDBs</em>, <em>title='Unknown'</em>, <em>labels=None</em>, <em>seqid=94</em>, <em>coverage=85</em>, <em>occupancy=None</em>, <em>unmapped=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/prody/ensemble/functions.html#buildPDBEnsemble"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#prody.ensemble.functions.buildPDBEnsemble" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds a PDB ensemble from a given reference structure and a list of PDB structures. 
Note that the reference structure should be included in the list as well.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>refpdb</strong> (<a class="reference internal" href="../../../../manual/reference/atomic/chain.html#prody.atomic.chain.Chain" title="prody.atomic.chain.Chain"><code class="xref py py-class docutils literal"><span class="pre">Chain</span></code></a>, <a class="reference internal" href="../../../../manual/reference/atomic/selection.html#prody.atomic.selection.Selection" title="prody.atomic.selection.Selection"><code class="xref py py-class docutils literal"><span class="pre">Selection</span></code></a>, or <a class="reference internal" href="../../../../manual/reference/atomic/atomgroup.html#prody.atomic.atomgroup.AtomGroup" title="prody.atomic.atomgroup.AtomGroup"><code class="xref py py-class docutils literal"><span class="pre">AtomGroup</span></code></a>) &#8211; Reference structure</li>
<li><strong>PDBs</strong> (<em>iterable</em>) &#8211; A list of PDB structures</li>
<li><strong>title</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The title of the ensemble</li>
<li><strong>labels</strong> (<em>list</em>) &#8211; labels of the conformations</li>
<li><strong>seqid</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Minimal sequence identity (percent)</li>
<li><strong>coverage</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Minimal sequence overlap (percent)</li>
<li><strong>occupancy</strong> &#8211; Minimal occupancy of columns (range from 0 to 1). Columns whose occupancy</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>is below this value will be trimmed.
:type occupancy: float
:arg unmapped: A list of PDB IDs that cannot be included in the ensemble. This is an 
output argument. 
:type unmapped: list</p>
</dd></dl>

</div>


    </div>
  </div>
</div>
<footer class="footer">
  <div class="row">
    <div class="span12">
      <p><small>
      &copy; Copyright 2010-2017, University of Pittsburgh.
      Last updated on Dec 06, 2017.
      Created using <a href="http://sphinx-doc.org">Sphinx</a> 1.3.5.
      </small></p>
    </div>
  </div>
  </div>
</footer>
<div id="codemodal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <h3 id="myModalLabel">Code Snippets</h3>
  </div>
  <div class="modal-body">
    <textarea id="codesnippets"></textarea>
  </div>
  <div class="modal-footer">
    <button class="btn btn-info" id="selectcode">Select Code</button>
    <!--
    <button class="btn btn-success" id="copycode" data-clipboard-target="codesnippets">Copy Code</button>
    -->
    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
  </div>
  <input type="hidden" id="zeroclipboardpath" value="../../../../_static/js/zeroclipboard.swf">
</div>
  </body>
</html>